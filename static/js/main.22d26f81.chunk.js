(this.webpackJsonpdansk_in_town=this.webpackJsonpdansk_in_town||[]).push([[0],{202:function(e,t,n){},285:function(e,t,n){},547:function(e,t){},609:function(e,t,n){"use strict";n.r(t);var r=n(0),a=n.n(r),c=n(64),s=n.n(c),i=(n(285),n(202),n(286),n(615)),o=n(611),j=n(617),l=n(12),u=n.n(l),b=n(8),d=n(27),h=n(1);function O(){var e=Object(b.h)();return Object(h.jsx)(i.a,{bg:"light",children:Object(h.jsxs)(o.a,{children:[Object(h.jsxs)(i.a.Brand,{as:d.b,to:"/about",style:{lineHeight:"1em"},children:["Dansk ",Object(h.jsx)("br",{}),"in Town"]}),Object(h.jsx)(i.a.Toggle,{"aria-controls":"basic-navbar-nav"}),Object(h.jsx)(i.a.Collapse,{id:"basic-navbar-nav",children:Object(h.jsxs)(j.a,{className:"me-auto",activeKey:window.location.pathname,children:[!u.a.User.current()&&Object(h.jsxs)(h.Fragment,{children:[Object(h.jsx)(j.a.Link,{as:d.b,to:"/signup",children:"Sign Up"}),Object(h.jsx)(j.a.Link,{as:d.b,to:"/login",children:"LogIn"})]}),u.a.User.current()&&Object(h.jsxs)(h.Fragment,{children:[Object(h.jsx)(j.a.Link,{as:d.b,to:"/myimages",children:"My Words"}),Object(h.jsx)(j.a.Link,{as:d.b,to:"/exercise",children:"Practice"}),Object(h.jsx)(j.a.Link,{onClick:function(t){t.preventDefault(),u.a.User.logOut().then((function(){e("/")}))},as:d.b,to:"/",children:"Sign Out"})]})]})})]})})}var x=n(11),p=n(616),m=n(612);function f(e){var t=Object(r.useState)(),n=Object(x.a)(t,2),a=n[0],c=n[1],s=Object(r.useState)(),i=Object(x.a)(s,2),o=i[0],j=i[1],l=Object(b.h)();return Object(h.jsxs)(h.Fragment,{children:[Object(h.jsx)("h1",{children:"Login"}),Object(h.jsxs)(p.a,{children:[Object(h.jsxs)(p.a.Group,{className:"mb-3",controlId:"formBasicUsername",children:[Object(h.jsx)(p.a.Label,{children:"Username"}),Object(h.jsx)(p.a.Control,{type:"text",onChange:function(e){return c(e.target.value)},placeholder:"Username",autoFocus:!0})]}),Object(h.jsxs)(p.a.Group,{className:"mb-3",controlId:"formBasicPassword",children:[Object(h.jsx)(p.a.Label,{children:"Password"}),Object(h.jsx)(p.a.Control,{type:"password",onChange:function(e){return j(e.target.value)},placeholder:"Password"})]}),Object(h.jsx)(m.a,{onClick:function(e){e.preventDefault();var t=new u.a.User;t.setPassword(o),t.setUsername(a),t.logIn().then((function(e){l("/exercise")}))},variant:"primary",type:"submit",children:"Submit"}),Object(h.jsx)("br",{}),Object(h.jsx)("br",{}),"Don't have an account? ",Object(h.jsx)(d.b,{to:"/signup",children:" Create one!"})]})]})}var g=n(28),v=n.n(g),y=n(50);function w(){var e=Object(r.useState)(""),t=Object(x.a)(e,2),n=t[0],a=t[1],c=Object(r.useState)(""),s=Object(x.a)(c,2),i=s[0],o=s[1],j=Object(r.useState)(""),l=Object(x.a)(j,2),d=l[0],O=l[1],f=Object(b.h)();function g(){return(g=Object(y.a)(v.a.mark((function e(){var t;return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(t=new u.a.User).setUsername(n),t.setPassword(i),t.setEmail(d),e.prev=4,e.next=7,t.signUp();case 7:e.next=12;break;case 9:e.prev=9,e.t0=e.catch(4),alert("Error: "+e.t0.message);case 12:f("/exercise");case 13:case"end":return e.stop()}}),e,null,[[4,9]])})))).apply(this,arguments)}return Object(h.jsxs)(h.Fragment,{children:[Object(h.jsx)("h1",{children:"Sign Up"}),Object(h.jsxs)(p.a.Group,{className:"mb-3",controlId:"formBasicUsrname",children:[Object(h.jsx)(p.a.Label,{children:"Username"}),Object(h.jsx)(p.a.Control,{onChange:function(e){a(e.target.value)},type:"text",placeholder:"Enter username",autoFocus:!0})]}),Object(h.jsxs)(p.a.Group,{className:"mb-3",controlId:"formBasicPassword",children:[Object(h.jsx)(p.a.Label,{children:"Password"}),Object(h.jsx)(p.a.Control,{type:"password",placeholder:"Password",onChange:function(e){o(e.target.value)}})]}),Object(h.jsxs)(p.a.Group,{className:"mb-3",controlId:"formBasicEmail",children:[Object(h.jsx)(p.a.Label,{children:"Email address"}),Object(h.jsx)(p.a.Control,{onChange:function(e){O(e.target.value)},type:"email",placeholder:"Enter email"})]}),Object(h.jsx)(m.a,{variant:"primary",onClick:function(){return g.apply(this,arguments)},children:"Create Account"})]})}function k(){return(k=Object(y.a)(v.a.mark((function e(){var t,n;return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=u.a.Object.extend("Translation"),(n=new u.a.Query(t)).include("image"),n.notContainedIn("too_easy",[l.User.current()]),n.equalTo("user",u.a.User.current()),e.next=7,n.find();case 7:return e.abrupt("return",e.sent);case 8:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function C(){return(C=Object(y.a)(v.a.mark((function e(t){var n,r;return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=u.a.Object.extend("Translation"),(r=new u.a.Query(n)).include("image"),e.next=5,r.get(t);case 5:return e.abrupt("return",e.sent);case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function U(){return(U=Object(y.a)(v.a.mark((function e(t){var n,r,a,c;return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=u.a.Object.extend("Translation"),(r=new u.a.Query(n)).include("image"),e.next=5,r.find();case 5:for(a=e.sent,c=a[Math.floor(Math.random()*a.length)];c.id===t;)c=a[Math.floor(Math.random()*a.length)];return e.abrupt("return",c);case 9:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function S(){return(S=Object(y.a)(v.a.mark((function e(){var t,n;return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=u.a.Object.extend("Translation"),(n=new u.a.Query(t)).include("image"),n.notContainedIn("too_easy",[l.User.current()]),e.next=6,n.find();case 6:return e.abrupt("return",e.sent);case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function F(){return(F=Object(y.a)(v.a.mark((function e(t){var n;return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:(n=t.get("too_easy")||[]).push(l.User.current()),t.set("too_easy",n),t.save();case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function L(e,t){return T.apply(this,arguments)}function T(){return(T=Object(y.a)(v.a.mark((function e(t,n){var r,a,c;return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=u.a.Object.extend("Image"),a=new r,c=new u.a.File(t.name,t),a.set("file",c),e.next=6,Promise.all(n.map((function(e){var t=new(u.a.Object.extend("Translation"));t.set("from",e.from),t.set("to",e.to),t.set("user",u.a.User.current()),t.set("image",a);try{return t.save()}catch(n){return alert(n),Promise.reject("something went wrong")}})));case 6:return e.abrupt("return",e.sent);case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var I,P,B,D,E,N=n(91),M=n(92),_=M.a.div(I||(I=Object(N.a)(["\n  display: flex;\n  justify-content: center;\n  margin-top: 2em;\n"]))),G=M.a.img(P||(P=Object(N.a)(["\n  max-width: 100%;\n  max-height: 320px;\n  border: 1px solid gray;\n  margin-bottom: 1em;\n"]))),R=M.a.div(B||(B=Object(N.a)(["\n  display: flex;\n  justify-content: center;\n  font-size: xx-large;\n  margin-top: 0.2em;\n"]))),W=M.a.div(D||(D=Object(N.a)(["\n  display: flex;\n  justify-content: center;\n  margin-top: 2em;\n"]))),Q=M.a.div(E||(E=Object(N.a)(["\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  margin-top: 2em;\n"])));function A(){var e=Object(r.useState)(),t=Object(x.a)(e,2),n=t[0],a=t[1],c=Object(r.useState)(!1),s=Object(x.a)(c,2),i=s[0],o=s[1];function j(){a(),function(){return S.apply(this,arguments)}().then((function(e){var t=e[Math.floor(Math.random()*e.length)];a(t)}))}return Object(r.useEffect)((function(){j()}),[]),n?Object(h.jsxs)(h.Fragment,{children:[Object(h.jsx)(_,{children:Object(h.jsx)(G,{alt:"",src:n.get("image").get("file").url()})}),Object(h.jsx)(R,{children:Object(h.jsxs)("b",{children:[n.get("from")," "]})}),Object(h.jsx)(R,{children:i?n.get("to"):"?"}),Object(h.jsx)(W,{children:i?Object(h.jsx)(h.Fragment,{children:Object(h.jsx)(m.a,{onClick:function(){o(!1),j()},children:"Next"})}):Object(h.jsxs)("div",{style:{align:"center"},children:[Object(h.jsx)(m.a,{onClick:function(){(function(e){return F.apply(this,arguments)})(n).then((function(){console.log("saved"),j()}))},variant:"secondary",children:"Too Easy"}),"\xa0\xa0\xa0",Object(h.jsx)(m.a,{style:{marginRight:"0"},onClick:function(){return o(!0)},children:"Show Solution"})]})})]}):Object(h.jsx)("p",{})}var J,q=n(167),z=M.a.div(J||(J=Object(N.a)(["\n  width: 1em;\n"])));function H(e){var t=e.translation,n=e.setFrom,r=e.setTo,a=e.deleteTranslation;function c(){return(c=Object(y.a)(v.a.mark((function e(n){var a;return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n.preventDefault(),e.next=3,u.a.Cloud.run("google_translate",{word_to_translate:t.from});case 3:a=e.sent,r(t,a);case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return Object(h.jsx)(h.Fragment,{children:Object(h.jsxs)("div",{style:{display:"flex"},children:[Object(h.jsxs)(p.a.Group,{className:"mb-3",controlId:"formBasicUsername",children:[Object(h.jsx)(p.a.Label,{children:"Word"}),Object(h.jsx)(p.a.Control,{autoFocus:!0,value:t.from,type:"text",onChange:function(e){return n(t,e.target.value)}})]}),Object(h.jsx)(z,{}),Object(h.jsxs)(p.a.Group,{className:"mb-3",controlId:"formBasicTranslation",children:[Object(h.jsx)(p.a.Label,{children:"Translation"}),Object(h.jsx)("a",{href:".",onClick:function(e){return c.apply(this,arguments)},children:"(auto)"}),Object(h.jsx)(p.a.Control,{type:"text",value:t.to,onChange:function(e){return r(t,e.target.value)}})]}),Object(h.jsx)(m.a,{tabIndex:"-1",onClick:function(e){return a(t)},variant:"link",children:"x"})]})})}function K(){return Date.now().toString(36)+Math.random().toString(36).substring(2)}function X(){var e=Object(r.useState)([{id:K(),to:"",from:""}]),t=Object(x.a)(e,2),n=t[0],a=t[1],c=Object(r.useState)(),s=Object(x.a)(c,2),i=s[0],o=s[1],j=Object(b.h)();function l(){return(l=Object(y.a)(v.a.mark((function e(t){return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),e.next=3,L(i,n);case 3:j("/myimages");case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function u(e,t){var r=n.map((function(n){return n.id!==e.id?n:{id:e.id,from:t,to:e.to}}));a(r)}function d(e,t){var r=n.map((function(n){return n.id!==e.id?n:{id:e.id,from:e.from,to:t}}));a(r)}function O(e){a(n.filter((function(t){return t.id!==e.id})))}return Object(h.jsxs)(h.Fragment,{children:[i&&Object(h.jsx)("img",{alt:"",style:{maxWidth:"400px"},src:URL.createObjectURL(i)}),Object(h.jsxs)(p.a,{children:[!i&&Object(h.jsxs)(p.a.Group,{controlId:"formFile",className:"mb-3",children:[Object(h.jsx)(p.a.Label,{children:"Select an image from your computer"}),Object(h.jsx)(p.a.Control,{onChange:function(e){o(e.target.files[0])},type:"file"})]}),i&&Object(h.jsx)(m.a,{variant:"link",onClick:function(){return o()},children:"Select another image"}),n.map((function(e){return Object(h.jsx)(H,{translation:e,setFrom:u,setTo:d,deleteTranslation:O},e.id)})),Object(h.jsx)(m.a,{onClick:function(){a([].concat(Object(q.a)(n),[{id:K(),to:"",from:""}]))},variant:"light",children:"Add new translation"}),Object(h.jsx)("br",{}),Object(h.jsx)("br",{}),Object(h.jsx)(m.a,{onClick:function(e){return l.apply(this,arguments)},disabled:!i,variant:"primary",type:"submit",children:"Upload"})]})]})}var Y=n(614),V=n(276),Z=n(618),$=n(613),ee=n(280);function te(e){e.imageId;var t=e.url,n=e.words;return Object(h.jsxs)(h.Fragment,{children:[Object(h.jsx)("br",{}),Object(h.jsxs)(Z.a,{style:{maxWidth:"320px"},children:[Object(h.jsx)(Z.a.Img,{variant:"top",src:t}),Object(h.jsx)($.a,{className:"list-group-flush",children:n.map((function(e){return Object(h.jsx)(ee.a,{children:Object(h.jsx)(d.b,{to:"/translation/"+e.id,children:Object(h.jsx)("b",{children:e.get("from")})})},e.id)}))})]})]})}function ne(){var e=Object(r.useState)(),t=Object(x.a)(e,2),n=t[0],a=t[1],c=Object(r.useState)(),s=Object(x.a)(c,2),i=s[0],o=s[1];if(Object(r.useEffect)((function(){var e={},t={};(function(){return k.apply(this,arguments)})().then((function(n){n.forEach((function(n){var r=n.get("image").id,a=n.get("image").get("file").url();e[r]||(e[r]=[],t[r]=a),e[r].push(n)})),a(e),o(t)}))}),[]),!n||!i)return"Loading...";var j=Object.keys(n);return j.reverse(),Object(h.jsxs)(h.Fragment,{children:[Object(h.jsx)("div",{style:{display:"flex"},children:Object(h.jsx)(d.b,{to:"/upload",children:Object(h.jsx)(m.a,{style:{marginLeft:"auto"},children:"Upload New Image"})})}),Object(h.jsx)(Y.a,{xs:1,md:2,children:j.map((function(e){return Object(h.jsx)(V.a,{children:Object(h.jsx)(te,{imageId:e,url:i[e],words:n[e]})},e)}))})]})}var re=n.p+"static/media/simpsons.small.ad336b70.png";function ae(){return Object(h.jsxs)(h.Fragment,{children:[Object(h.jsx)("img",{alt:"simpsons",src:re,width:"100%"}),Object(h.jsx)("br",{}),Object(h.jsx)("br",{}),Object(h.jsx)("p",{children:"Do you live in Denmark? Wouldn't it be nice if you would understand at least the danish on the signs you see around town?"}),Object(h.jsx)("p",{children:"Practice Danish vocabulary based on photos taken around town. Either use the public photo set that we created by walking everywhere around town, or upload and practice with your own photos. Tip: When uploading your own you get automatic translations too!"}),Object(h.jsx)("br",{}),Object(h.jsx)(d.b,{to:"/signup",children:Object(h.jsx)("h4",{children:"Become a Beta-tester"})})]})}function ce(){return l.User.current()?Object(h.jsx)(b.b,{}):Object(h.jsx)(b.a,{to:"/login"})}function se(){var e=Object(b.i)(),t=Object(b.h)(),n=e.translationId,a=Object(r.useState)(),c=Object(x.a)(a,2),s=c[0],i=c[1],o=Object(r.useState)(!1),j=Object(x.a)(o,2),u=j[0],O=j[1];return Object(r.useEffect)((function(){(function(e){return C.apply(this,arguments)})(n).then((function(e){i(e)}))}),[]),s?(console.log("rendering "+s.id),Object(h.jsxs)(h.Fragment,{children:[Object(h.jsx)(_,{children:Object(h.jsx)(G,{alt:"",src:s.get("image").get("file").url()})}),Object(h.jsx)(R,{children:Object(h.jsxs)("b",{children:[s.get("from")," "]})}),Object(h.jsx)(R,{children:u?s.get("to"):"?"}),Object(h.jsx)(Q,{children:u?l.User.current()?Object(h.jsx)(d.b,{to:"/myimages",children:Object(h.jsx)(m.a,{children:"Back to My Images"})}):Object(h.jsxs)(h.Fragment,{children:[Object(h.jsx)("div",{children:Object(h.jsx)(m.a,{onClick:function(){(function(e){return U.apply(this,arguments)})(n).then((function(e){console.log(e),O(!1),i(e),t("/translation/".concat(e.id))}))},children:"Show me another word"})}),Object(h.jsx)("br",{}),Object(h.jsxs)("div",{children:[Object(h.jsx)(d.b,{to:"/about",children:"Learn More"})," about Dansk in Town."]})]}):Object(h.jsx)("div",{style:{align:"center"},children:Object(h.jsx)(m.a,{style:{marginRight:"0"},onClick:function(){return O(!0)},children:"Show Translation"})})})]})):Object(h.jsx)("p",{})}function ie(){return Object(h.jsx)(h.Fragment,{children:Object(h.jsxs)(b.e,{children:[Object(h.jsx)(b.c,{path:"/signup",element:Object(h.jsx)(w,{})}),Object(h.jsx)(b.c,{path:"/login",element:Object(h.jsx)(f,{})}),Object(h.jsx)(b.c,{path:"/about",element:Object(h.jsx)(ae,{})}),Object(h.jsxs)(b.c,{element:Object(h.jsx)(ce,{}),children:[Object(h.jsx)(b.c,{path:"/exercise",element:Object(h.jsx)(A,{})}),Object(h.jsx)(b.c,{path:"/upload",element:Object(h.jsx)(X,{})}),Object(h.jsx)(b.c,{path:"/myimages",element:Object(h.jsx)(ne,{})})]}),Object(h.jsx)(b.c,{path:"/translation/:translationId",element:Object(h.jsx)(se,{})}),Object(h.jsx)(b.c,{path:"/",element:Object(h.jsx)(b.a,{to:"/exercise"})})]})})}var oe=function(){return Object(h.jsx)("div",{className:"App",children:Object(h.jsxs)(d.a,{basename:"/",children:[Object(h.jsx)(O,{}),Object(h.jsx)(ie,{})]})})},je=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,619)).then((function(t){var n=t.getCLS,r=t.getFID,a=t.getFCP,c=t.getLCP,s=t.getTTFB;n(e),r(e),a(e),c(e),s(e)}))};u.a.initialize("KLxcuhhjrb2JQwegqs5jto882HLxv7scW89HDACX","hfYT45KTgwRr4JBWGQFaCSokz7URgAPiyoTRlqxT"),u.a.serverURL="https://parseapi.back4app.com/",s.a.render(Object(h.jsx)(a.a.StrictMode,{children:Object(h.jsx)(oe,{})}),document.getElementById("root")),je()}},[[609,1,2]]]);
//# sourceMappingURL=main.22d26f81.chunk.js.map